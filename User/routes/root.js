'use strict'

const token = "eyJraWQiOiJrZmxHQzRWVFdqK0NYNmUrVDg1ZytxV2xCcithVWJMUmN2TVd2VEJ0TGtNPSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoibTNXUk5PbnpoWk1RT3Y1dDhqSDhYZyIsInN1YiI6ImRlYmU2NDA1LTc3YmEtNDJhOC05MTBjLTZjNGM5ZTY3NjQxZiIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5hcC1ub3J0aGVhc3QtMi5hbWF6b25hd3MuY29tXC9hcC1ub3J0aGVhc3QtMl9LMVhmMG9VN1YiLCJjb2duaXRvOnVzZXJuYW1lIjoic2FuZyIsImF1ZCI6IjJvc2Q4Y2RobXJoYjQyMTBicHBldHRuc3B0IiwiZXZlbnRfaWQiOiJmNzg1MThjOC0xNWM5LTQ3ODUtODkzNS0wYjM4N2E2ZDQ5NzciLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY3OTM3NDE5NCwiZXhwIjoxNjc5NDYwNTk0LCJpYXQiOjE2NzkzNzQxOTQsImp0aSI6IjFkZWE3MWZlLTJmNGQtNDVjYS04NjI1LTA5YWQ3NzYxNzg1MCIsImVtYWlsIjoic2FuZ0BleHAuY29tIn0.RH9EkD9hf7RtbTxu-Qg44xlOEVFNmSydJyV9b1B3nWjKPUAR9Y-T1RFJI35vCfYKCWGc7V5-O4LCIRLdcl3Ac35YsH7AzpQ-rPoNNW5E9rBr7nRf-ujmpwPa5cS2TNKSktKypSYHrTR-HEihXmh7x-7vyeudJnP1YJVsIjzxpF0RIfTiq71Cy2jewbwoGVYlCPbLO2v1cS0WCYc05c0PHtxx9xj2GO_ApfkCkVV3mFlyERXrBZeXE1evPKW8aeGqDlWfR0VybKHfhQPrnqnqD1Lhnu8PHsqT3kN7NmEEQvBgkWEgKzgSckyJNX1xwK9nuteZWl5pw5-acU5cG6MwGw&access_token=eyJraWQiOiJPSDRKVUJBN3NOZ1wvR21yVlBqQjRtQ0FoMjI2MkFIVVcwclA3a0UzSlpwOD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZWJlNjQwNS03N2JhLTQyYTgtOTEwYy02YzRjOWU2NzY0MWYiLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwvYXAtbm9ydGhlYXN0LTJfSzFYZjBvVTdWIiwidmVyc2lvbiI6MiwiY2xpZW50X2lkIjoiMm9zZDhjZGhtcmhiNDIxMGJwcGV0dG5zcHQiLCJldmVudF9pZCI6ImY3ODUxOGM4LTE1YzktNDc4NS04OTM1LTBiMzg3YTZkNDk3NyIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoib3BlbmlkIGVtYWlsIiwiYXV0aF90aW1lIjoxNjc5Mzc0MTk0LCJleHAiOjE2Nzk0NjA1OTQsImlhdCI6MTY3OTM3NDE5NCwianRpIjoiNzVhNzg4MWUtZmVjYS00YzE3LTgzNDktZGIzZjI2NjA2ZGZjIiwidXNlcm5hbWUiOiJzYW5nIn0.IP_57YxTbQo9Jnylj1ZfL6QOOuIsBYq7dg21We3ha_6K9YV_xw2JPWzBTQuoV1ToEknezgl4zScLsM12iOkn08xNgjbEmKCHeN69ejtpUJNb2UKEv-1TfIWwFp1rYKICBz6JX1LKvLOB6LO2mcgPFKOFEoVk5bSGdhcJw1b69hytsnUquH0EHVV6mOIWkNbD73bJFYSQimB7WWdPTO69iBsJ0f4q-QH5n30V-o8Iv3GROI9k-F83ZZpzShtBQLAx38vUCJfXgalfxaegFU-x03t5JE_NKWyAAybjLUpi1OPenIxup06WwoXIaXy7pr1VUXQWnoiecownRi2q1SXLjQ&expires_in=86400&token_type=Bearer"

module.exports = async function (fastify, opts) {
  fastify.get('/', async function (request, reply) {
    const user_auth = await fastify.userAuth(token);
    return '{ root: true } user auth : ' + user_auth
  })
}
